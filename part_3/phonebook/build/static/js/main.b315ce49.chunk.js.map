{"version":3,"sources":["components/components.js","services/persons.js","components/notification.js","App.js","index.js"],"names":["FilterForm","props","value","onChange","PersonForm","onSubmit","name","nameChange","newNumber","numberChange","onClick","numberUpdate","baseUrl","newObject","axios","post","id","put","delete","Notification","message","error","console","log","className","App","useState","persons","setPersons","newName","setNewName","setNewNumber","char","filteredChar","changeMessage","setChangeMessage","errorMessage","setErrorMessage","useEffect","get","then","response","data","personsToShow","filter","x","toLowerCase","includes","event","preventDefault","target","person","find","element","window","confirm","personObject","number","personService","map","ps","setTimeout","catch","length","concat","deletedPerson","handleDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b315ce49.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst FilterForm = (props) => {\r\n  return(\r\n    <form>\r\n      <div>filter shown with: <input value={props.value} onChange={props.onChange}/></div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst PersonForm = (props) => {\r\n  return(\r\n    <form onSubmit={props.onSubmit}>\r\n      <div>\r\n        name: <input value={props.name} onChange={props.nameChange}/>\r\n      </div>\r\n      <div>number: <input value={props.newNumber} onChange={props.numberChange}/></div>\r\n      <div>\r\n        <button  onClick={props.numberUpdate}>add</button>\r\n      </div>\r\n   </form>\r\n  )\r\n}\r\n\r\nexport { FilterForm, PersonForm }","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (newObject, id) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n    console.log(error)\r\n    if (message !== null & error === null) {\r\n        return (\r\n            <div className=\"message\">\r\n            {message}\r\n            </div>\r\n        )\r\n    }\r\n    else if (error !== null) {\r\n        return (\r\n            <div className=\"error\">\r\n            {error}\r\n            </div>\r\n        )\r\n    }\r\n    return null\r\n}\r\n\r\nexport { Notification }","import React, { useState, useEffect } from 'react'\nimport { FilterForm, PersonForm  } from './components/components'\nimport personService from './services/persons'\nimport { Notification } from './components/notification'\nimport axios from 'axios'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([{ name: 'Arto Hellas'}]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ char, filteredChar ] = useState('')\n  const [ changeMessage, setChangeMessage] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n      // personService\n      axios\n      .get(\"http://localhost:3001/api/persons\")\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n   \n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const person = persons.find(element => element.name === newName)\n  \n    if (!person) {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1,\n      }\n\n      personService\n      .create(personObject)\n      .then( response => {\n        setPersons(persons.concat(response.data))\n        setNewName('')\n        setNewNumber('')})\n\n      .then(changeMessage => {\n          setChangeMessage(\n            `${personObject.name} is added`\n          )\n          setTimeout( () => {setChangeMessage(!null)}, 5000 )\n        })\n    } else {\n      \n      if (window.confirm(`${newName} is already added to phonebook. Do you want to change number?`))\n      {\n        const personObject = {\n          ...person,\n          number: newNumber,\n        }\n        personService\n          .update(personObject, personObject.id)\n            .then(response => setPersons(persons.map(ps => ps.id !== personObject.id? ps : response.data)))\n            .then(changeMessage => {\n              setChangeMessage(\n                `Number of ${personObject.name} is updated`\n              )\n              setTimeout( () => {setChangeMessage(!null)}, 5000 )\n            })\n              .catch(errorMessage => {\n                setErrorMessage(\n                  `Information of ${personObject.name} has already been removed from server.`\n                )\n                setTimeout( () => {setErrorMessage(null)}, 5000 )\n              })\n      }\n    }\n  }\n\n  const filterChar = (event) => {\n    event.preventDefault()\n    filteredChar(event.target.value)\n  }\n\n  const handleDelete = (id) => {\n    const deletedPerson = persons.find(x => x.id === id)\n    if (deletedPerson.id && window.confirm(`deleted ${deletedPerson.name}?`))\n    {\n      personService.remove(id).then(response => setPersons(persons.filter(x => x.id !== id)))\n    }\n  }\n\n  const personsToShow = persons.filter(x => x.name.toLowerCase().includes([char]))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={changeMessage} error={errorMessage}/>\n      <FilterForm value={char} onChange={filterChar}/>\n      <br></br>\n      <h3>Add a new person</h3>\n      <PersonForm onSubmit={addPerson} \n        name={newName} \n        nameChange={handleNameChange} \n        number={newNumber} \n        numberChange={handleNumberChange}\n        />\n\n      <h3>Numbers</h3>\n      {personsToShow.map(x => <div key={x.id}>{x.name} {x.number} <button onClick={() => handleDelete(x.id)}>Delete</button></div>)}\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}